/**
 * @name Blur
 * @version 1.0.0
 * @author Solta & jAba65
 * @authorId solta \ solta#8484
 * @description Blur theme
 * @source https:1
*/

@import url("https://jAba65.github.io/Discord%20Theme/jAba.css");

/* ========================================================================= */
/* 1. АНИМАЦИИ */
/* ========================================================================= */

/* Анимация смены оттенка: теперь плавная и зацикленная */
/* Мы делаем полный оборот от 0 до 360 градусов (или далее)
   и расставляем нужные цвета по пути, чтобы переход был непрерывным. */
@keyframes background-hue-transition {
    0% { filter: hue-rotate(0deg); }   /* Красный */
    15% { filter: hue-rotate(240deg); } /* Синий */
    30% { filter: hue-rotate(180deg); } /* Голубой (Cyan) - здесь произойдет "короткий путь" назад */
    50% { filter: hue-rotate(300deg); } /* Фиолетовый (Magenta) - короткий путь вперед */
    70% { filter: hue-rotate(100deg); } /* Очень слабый зеленый (короткий путь назад) */
    100% { filter: hue-rotate(360deg); } /* Возвращаемся к Красному (то же, что 0deg) для плавного цикла */
}
/*
   ВАЖНО: При использовании hue-rotate(), если вы задаете точки не по возрастанию (или убыванию) градусов,
   браузер будет брать кратчайший путь по цветовому кругу.
   Например, от 300deg (фиолетовый) до 100deg (зеленый) он пойдет "назад", через 240deg (синий).
   Если это вызывает "резкость", то придется либо менять порядок, либо использовать более сложные трюки
   с `transform` или несколькими слоями. Но для начала попробуем этот, он покрывает все цвета.
*/

/* Анимация "дрейфа" для космических облаков (градиентов) */
@keyframes cosmic-drift {
    0% { background-position: 0% 0%, 10% 20%, 30% 40%, 50% 60%, 70% 80%; }
    100% { background-position: 100% 100%, 90% 80%, 70% 60%, 50% 40%, 30% 20%; }
}

/* Анимация для "плавных миганий" / "пульсации" (эффект мерцающих звезд или энергии) */
@keyframes cosmic-shimmer {
    0%, 100% {
        opacity: 1; /* Полная видимость */
        transform: scale(1); /* Без масштабирования */
    }
    50% {
        opacity: 0.95; /* Чуть уменьшаем прозрачность для эффекта мигания */
        transform: scale(1.005); /* Очень легкое увеличение для "пульсации" */
    }
}

/* ========================================================================= */
/* 2. КОРНЕВЫЕ ПЕРЕМЕННЫЕ ТЕМЫ */
/* ========================================================================= */
:root{
    --blur-bg: 80px; /* Значение блюра для "туманностей" */
    --blur-other: 30px;
    --brightness-bg: 0.5; /* Значение яркости для общего затемнения космического фона */

    --color-main: rgba(255,255,255,0.1);
    --border-main:  1px solid rgba(255, 255, 255, 0.1);
    --boxshadow: inset 0 0 10px rgba(100, 100, 100, 0.1);

    /* Цвета для космических градиентов (основные цвета туманностей) */
    --cosmic-dark: #050510; /* Очень темный фон для "глубины космоса" */
    --cosmic-blue: #0A003D; /* Темно-синий/индиго */
    --cosmic-purple: #3D003D; /* Темно-фиолетовый */
    --cosmic-red: #3D0A00; /* Темно-красный/бордовый */
    --cosmic-light-blue: #003D3D; /* Темный бирюзовый */
    /* Цвета для ярких "звездных" вкраплений или пульсирующих участков */
    --cosmic-bright-1: rgba(255, 0, 255, 0.2); /* Яркий, полупрозрачный фиолетовый */
    --cosmic-bright-2: rgba(0, 255, 255, 0.2); /* Яркий, полупрозрачный голубой */
}

/* ========================================================================= */
/* 3. ОСНОВНОЙ КОСМИЧЕСКИЙ ФОН (Псевдоэлемент ::before на 'html') */
/* ========================================================================= */
html {
    height: 100%;
    margin: 0;
    padding: 0;
    position: relative; /* Для позиционирования ::before */
    overflow: hidden; /* Скрываем возможные полосы прокрутки */
    background-color: var(--cosmic-dark); /* Базовый очень темный фон для HTML */
}

html::before {
    content: ''; /* Обязательно для псевдоэлементов */
    position: fixed; /* Фиксированное позиционирование относительно окна браузера */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1; /* Помещаем этот слой ПОД всем остальным содержимым Discord UI */

    /* Создаем "космический" фон с помощью нескольких радиальных градиентов.
       Каждый градиент - это отдельное "облако" туманности. */
    background:
        /* Большие, размытые "облака" туманностей */
        radial-gradient(ellipse at 15% 50%, var(--cosmic-blue) 0%, transparent 60%),
        radial-gradient(ellipse at 85% 30%, var(--cosmic-purple) 0%, transparent 50%),
        radial-gradient(ellipse at 40% 80%, var(--cosmic-red) 0%, transparent 70%),
        radial-gradient(ellipse at 60% 20%, var(--cosmic-light-blue) 0%, transparent 60%),
        /* Мелкие, яркие "звездные" вкрапления или энергетические вспышки */
        radial-gradient(circle at 70% 10%, var(--cosmic-bright-1) 0%, transparent 10%),
        radial-gradient(circle at 30% 90%, var(--cosmic-bright-2) 0%, transparent 12%);

    /* Настраиваем размеры каждого градиента для вариативности облаков */
    background-size: 180% 180%, 150% 150%, 200% 200%, 130% 130%, 5% 5%, 7% 7%;
    /* Настраиваем начальные позиции для каждого градиента */
    background-position: 0% 0%, 20% 40%, 40% 80%, 60% 10%, 80% 90%, 10% 60%;
    background-repeat: no-repeat; /* Градиенты не повторяются */

    /* Применяем все фильтры и все анимации к ЭТОМУ слою */
    filter: blur(var(--blur-bg)) brightness(var(--brightness-bg)); /* Постоянный блюр и яркость */
    animation: background-hue-transition 30s linear infinite, /* Переливание цвета */
               cosmic-drift 60s linear infinite, /* Движение облаков */
               cosmic-shimmer 8s ease-in-out infinite alternate; /* Плавное мигание/пульсация */
}

/* ========================================================================= */
/* 4. ОЧИСТКА BODY (чтобы не мешало фону) */
/* ========================================================================= */
body {
    background: none !important; /* Убираем любой фон с body */
    filter: none !important;     /* Убираем любые фильтры с body */
    animation: none !important;  /* Убираем любые анимации с body */
    height: 100%; /* Убедимся, что body занимает всю доступную высоту */
    margin: 0;
    padding: 0;
}

/* ========================================================================= */
/* 5. ДОПОЛНИТЕЛЬНЫЕ СТИЛИ ДЛЯ ЧИТАЕМОСТИ ИНТЕРФЕЙСА DISCORD */
/* ========================================================================= */
/* Эти стили добавляют полупрозрачные фоны к элементам интерфейса Discord,
   чтобы текст и иконки были лучше видны поверх анимированного космического фона. */
.theme-dark .bg-1QIAay,
.theme-dark .container-ZMc96U,
.theme-dark .form-3gdPxP,
.theme-dark .sidebar-2K8pFh
{
    background-color: rgba(0, 0, 0, 0.5) !important;
}
